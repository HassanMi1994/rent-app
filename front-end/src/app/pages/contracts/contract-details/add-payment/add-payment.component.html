<button type="button" class="btn btn-outline-primary btn-lg col-12" data-bs-toggle="modal"
    data-bs-target="#addPaymentModal">
    {{'addPayment'|transloco}}
</button>



<div class="contract-item-header row">
    <div class="col-3 h6 text-info text-center">
        {{'amount'|transloco}}
    </div>

    <div class="col-3 h6 text-info text-center">
        {{'paymentType'|transloco}}
    </div>

    <div class="col-3 h6 text-info text-center">
        {{'datetime'|transloco}}
    </div>

    <div class="col-3 h6 text-info text-center">
        {{'createdBy'|transloco}}
    </div>

</div>

@for (item of contractService.contract.payments; track $index) {

<div class="payment-row row table-hover">
    <div class=" col-3 h6 text-center">
        {{item.amount|number}}
    </div>

    <div class="col-3 h6 text-center">
        @if(item.paymentType==1){
        {{'card'|transloco}}
        }
        @else {
        {{'cash'|transloco}}
        }
    </div>

    <div class=" col-3 m-2 h6 text-center">
        <app-config-date [date]="item.dateTime"> </app-config-date>
    </div>

    <div class=" col-3 m-2 h6 text-center">
        @if(item.createdBy){
        {{item.createdBy.fullName}}
        }
    </div>



</div>
}

<!-- Modal -->
<div class="modal fade add-new-item-modal" id="addPaymentModal" tabindex="-1" role="dialog"
    aria-labelledby="modalTitleId" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-fullscreen-sm-down" role="document">
        <!-- <div class="modal-dialog modal-sm modal-fullscreen" role="document"> -->
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" style="text-align: center;width: 100%;" id="modalTitleId">
                    {{"newPayment"|transloco}}
                </h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>

            <div class="modal-body">

                <div class="col-12">
                    <app-form-input-number #amountRef [labelName]="'amount'"
                        (value)="contractService.newPayment.amount=($event)"></app-form-input-number>
                </div>

                <div class="col-12">
                    <ng-select [(ngModel)]="contractService.newPayment.paymentType">
                        <ng-option [value]="1" >{{'card'|transloco}}</ng-option>
                        <ng-option [value]="2">{{'cash'|transloco}}</ng-option>
                    </ng-select>
                </div>

            </div>

            <!-- modal footer -->
            <div class="modal-footer p-4">
                <div class="col-12">


                    <div class="row">
                        <div class="col-12 p-3">
                            <div>
                                <button type="button" class="btn btn-outline-primary col-12" (click)="addPayment()">
                                    <span class="bi bi-plus-lg"></span>
                                    {{"add" |transloco}}</button>
                            </div>

                        </div>

                        <div #closeModal class="col-12">
                            <div>
                                <button type="button" class="btn btn-outline-dark col-12 " data-bs-dismiss="modal"
                                    aria-label="Close">
                                    <span class="bi bi-door-open"></span>
                                    {{"close" |transloco}}
                                </button>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
</div>